<mat-card>
    <mat-card-title>Formulaire d'inscription à l'association</mat-card-title>
    <mat-card-subtitle>Merci de remplir ce formulaire pour demander à devenir bénévole au Samu Social de Grenoble</mat-card-subtitle>
    <mat-card-content>
        <form [formGroup]="subscriptionForm">
            <div class="responsiveRow">
                <div class="rowElt">
                    <mat-form-field appearance="standard">
                        <mat-label>Nom</mat-label>
                        <input #surnameField formControlName="surname" matInput type="text" placeholder="Votre nom" required>
                        <mat-error *ngIf="surnameControl.errors?.required">Veuillez entrer votre nom</mat-error>
                        <mat-error *ngIf="surnameControl.errors?.maxlength">Votre nom ne peut pas dépasser {{surnameMaxLength}} caractères</mat-error>
                    </mat-form-field>
                </div>
                <div class="rowElt">
                    <mat-form-field appearance="standard">
                        <mat-label>Prénom</mat-label>
                        <input #firstnameField formControlName="firstname" matInput type="text" placeholder="Votre prénom" required>
                        <mat-error *ngIf="firstnameControl.errors?.required">Veuillez entrer votre prénom</mat-error>
                        <mat-error *ngIf="firstnameControl.errors?.maxlength">Votre prénom ne peut pas dépasser {{firstnameMaxLength}} caractères</mat-error>
                    </mat-form-field>
                </div>
                <div class="rowElt">
                    <mat-form-field appearance="standard">
                        <mat-label>Date de naissance</mat-label>
                        <input matInput [formControl]="birthdayControl" [min]="birthdayMinDate" [max]="birthdayMaxDate" [matDatepicker]="birthdayPicker"
                            placeholder="JJ/MM/AAAA" required>
                        <mat-datepicker-toggle matSuffix [for]="birthdayPicker"></mat-datepicker-toggle>
                        <mat-datepicker #birthdayPicker  startView="multi-year" [startAt]="birthdayStartDate"></mat-datepicker>
                        <mat-error *ngIf="birthdayControl.errors?.required">Veuillez entrer votre date de naissance au format JJ/MM/AAAA</mat-error>
                        <mat-error *ngIf="birthdayControl.errors?.matDatepickerMin">Il est peut probable que vous soyez aussi âgé ;-)</mat-error>
                        <mat-error *ngIf="birthdayControl.errors?.matDatepickerMax">Vous devez être majeur pour devenir membre de l'association</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="responsiveRow">
                <div class="rowElt">
                    <mat-form-field appearance="standard">
                        <mat-label>Adresse email</mat-label>
                        <input #mailField [formControl]="mailControl" matInput type="text" placeholder="Votre adresse email, ex: zoe.pot@mailer.com" required>
                        <mat-error *ngIf="mailControl.errors?.required">Veuillez entrer l'adresse email où vous joindre</mat-error>
                        <mat-error *ngIf="mailControl.errors?.email">L'adresse email saisie est invalide</mat-error>
                    </mat-form-field>
                </div>
                <div class="rowElt">
                    <mat-form-field appearance="standard">
                        <mat-label>Numéro de téléphone</mat-label>
                        <input #phoneNumberField [formControl]="phoneNumberControl" matInput type="text" placeholder="Votre numéro de téléphone, ex: 06 01 02 03 04" required>
                        <mat-error *ngIf="phoneNumberControl.errors?.required">Veuillez entrer le numéro de téléphone où vous joindre</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <mat-form-field appearance="standard">
                <mat-label>Adresse</mat-label>
                <input #addressField [formControl]="addressControl" matInput type="text" placeholder="Votre adresse postale, ex: 37 rue Pasteur 38000 Grenoble" required>
                <mat-error *ngIf="addressControl.errors?.required">Veuillez entrer votre adresse</mat-error>
                <mat-error *ngIf="addressControl.errors?.maxlength">Votre adresse ne peut pas dépasser {{adddressMaxLength}} caractères</mat-error>
            </mat-form-field>
            <mat-form-field appearance="standard">
                <mat-label>Message</mat-label>
                <textarea #msgField [formControl]="msgControl" matInput placeholder="Ajouter un message" rows="8"></textarea>
                <mat-hint>{{msgField.value.length}}/{{msgMaxLength}} caractères</mat-hint>
                <mat-error *ngIf="msgControl.errors?.maxlength">Votre message ne peut pas dépasser {{msgMaxLength}} caractères</mat-error>
            </mat-form-field>
            <div class="actions">
                <button mat-raised-button color="primary" [disabled]="subscriptionForm.invalid">Envoyer</button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
